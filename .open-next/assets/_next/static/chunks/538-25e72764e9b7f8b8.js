"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{2704:(t,e,n)=>{var r=n(5440);n.o(r,"useRouter")&&n.d(e,{useRouter:function(){return r.useRouter}})},7552:(t,e,n)=>{n.d(e,{A:()=>r});let r=(0,n(2452).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8266:(t,e,n)=>{n.d(e,{MB:()=>M});var r=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,u=(t,e,n)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))l.call(e,n)&&u(t,n,e[n]);if(i)for(var n of i(e))a.call(e,n)&&u(t,n,e[n]);return t},f=(t,e)=>o(t,s(e)),p=class extends Error{constructor(t,e,n){super(e||t.toString(),{cause:n}),this.status=t,this.statusText=e,this.error=n}},d=async(t,e)=>{var n,r,o,s,i,l;let a=e||{},u={onRequest:[null==e?void 0:e.onRequest],onResponse:[null==e?void 0:e.onResponse],onSuccess:[null==e?void 0:e.onSuccess],onError:[null==e?void 0:e.onError],onRetry:[null==e?void 0:e.onRetry]};if(!e||!(null==e?void 0:e.plugins))return{url:t,options:a,hooks:u};for(let c of(null==e?void 0:e.plugins)||[]){if(c.init){let r=await (null==(n=c.init)?void 0:n.call(c,t.toString(),e));a=r.options||a,t=r.url}u.onRequest.push(null==(r=c.hooks)?void 0:r.onRequest),u.onResponse.push(null==(o=c.hooks)?void 0:o.onResponse),u.onSuccess.push(null==(s=c.hooks)?void 0:s.onSuccess),u.onError.push(null==(i=c.hooks)?void 0:i.onError),u.onRetry.push(null==(l=c.hooks)?void 0:l.onRetry)}return{url:t,options:a,hooks:u}},h=class{constructor(t){this.options=t}shouldAttemptRetry(t,e){return this.options.shouldRetry?Promise.resolve(t<this.options.attempts&&this.options.shouldRetry(e)):Promise.resolve(t<this.options.attempts)}getDelay(){return this.options.delay}},y=class{constructor(t){this.options=t}shouldAttemptRetry(t,e){return this.options.shouldRetry?Promise.resolve(t<this.options.attempts&&this.options.shouldRetry(e)):Promise.resolve(t<this.options.attempts)}getDelay(t){return Math.min(this.options.maxDelay,this.options.baseDelay*2**t)}},v=async t=>{let e={},n=async t=>"function"==typeof t?await t():t;if(null==t?void 0:t.auth){if("Bearer"===t.auth.type){let r=await n(t.auth.token);if(!r)return e;e.authorization=`Bearer ${r}`}else if("Basic"===t.auth.type){let r=n(t.auth.username),o=n(t.auth.password);if(!r||!o)return e;e.authorization=`Basic ${btoa(`${r}:${o}`)}`}else if("Custom"===t.auth.type){let r=n(t.auth.value);if(!r)return e;e.authorization=`${n(t.auth.prefix)} ${r}`}}return e},g=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function m(t){if(void 0===t)return!1;let e=typeof t;return"string"===e||"number"===e||"boolean"===e||null===e||"object"===e&&(!!Array.isArray(t)||!t.buffer&&(t.constructor&&"Object"===t.constructor.name||"function"==typeof t.toJSON))}function w(t){try{return JSON.parse(t)}catch(e){return t}}function b(t){return"function"==typeof t}async function R(t){let e=new Headers(null==t?void 0:t.headers);for(let[n,r]of Object.entries(await v(t)||{}))e.set(n,r);if(!e.has("content-type")){let n=m(null==t?void 0:t.body)?"application/json":null;n&&e.set("content-type",n)}return e}var T=class t extends Error{constructor(e,n){super(n||JSON.stringify(e,null,2)),this.issues=e,Object.setPrototypeOf(this,t.prototype)}};async function O(t,e){let n=await t["~standard"].validate(e);if(n.issues)throw new T(n.issues);return n.value}var S=["get","post","put","patch","delete"],E=async(t,e)=>{var n,r,o,s,i,l,a,u;let{hooks:v,url:T,options:j}=await d(t,e),P=function(t){if(null==t?void 0:t.customFetchImpl)return t.customFetchImpl;if("undefined"!=typeof globalThis&&b(globalThis.fetch))return globalThis.fetch;if("undefined"!=typeof window&&b(window.fetch))return window.fetch;throw Error("No fetch implementation found")}(j),U=new AbortController,_=null!=(n=j.signal)?n:U.signal,x=function(t,e){let{baseURL:n,params:r,query:o}=e||{query:{},params:{},baseURL:""},s=t.startsWith("http")?t.split("/").slice(0,3).join("/"):n||"";if(t.startsWith("@")){let e=t.toString().split("@")[1].split("/")[0];S.includes(e)&&(t=t.replace(`@${e}/`,"/"))}s.endsWith("/")||(s+="/");let[i,l]=t.replace(s,"").split("?"),a=new URLSearchParams(l);for(let[t,e]of Object.entries(o||{}))null!=e&&a.set(t,String(e));if(r)if(Array.isArray(r))for(let[t,e]of i.split("/").filter(t=>t.startsWith(":")).entries()){let n=r[t];i=i.replace(e,n)}else for(let[t,e]of Object.entries(r))i=i.replace(`:${t}`,String(e));(i=i.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(i=i.slice(1));let u=a.toString();return(u=u.length>0?`?${u}`.replace(/\+/g,"%20"):"",s.startsWith("http"))?new URL(`${i}${u}`,s):`${s}${i}${u}`}(T,j),A=function(t){if(!(null==t?void 0:t.body))return null;let e=new Headers(null==t?void 0:t.headers);if(m(t.body)&&!e.has("content-type")){for(let[e,n]of Object.entries(null==t?void 0:t.body))n instanceof Date&&(t.body[e]=n.toISOString());return JSON.stringify(t.body)}return t.body}(j),$=await R(j),L=function(t,e){var n;if(null==e?void 0:e.method)return e.method.toUpperCase();if(t.startsWith("@")){let r=null==(n=t.split("@")[1])?void 0:n.split("/")[0];return S.includes(r)?r.toUpperCase():(null==e?void 0:e.body)?"POST":"GET"}return(null==e?void 0:e.body)?"POST":"GET"}(T,j),k=f(c({},j),{url:x,headers:$,body:A,method:L,signal:_});for(let t of v.onRequest)if(t){let e=await t(k);e instanceof Object&&(k=e)}("pipeTo"in k&&"function"==typeof k.pipeTo||"function"==typeof(null==(r=null==e?void 0:e.body)?void 0:r.pipe))&&!("duplex"in k)&&(k.duplex="half");let{clearTimeout:q}=function(t,e){let n;return!(null==t?void 0:t.signal)&&(null==t?void 0:t.timeout)&&(n=setTimeout(()=>null==e?void 0:e.abort(),null==t?void 0:t.timeout)),{abortTimeout:n,clearTimeout:()=>{n&&clearTimeout(n)}}}(j,U),I=await P(k.url,k);q();let C={response:I,request:k};for(let t of v.onResponse)if(t){let n=await t(f(c({},C),{response:(null==(o=null==e?void 0:e.hookOptions)?void 0:o.cloneResponse)?I.clone():I}));n instanceof Response?I=n:n instanceof Object&&(I=n.response)}if(I.ok){if("HEAD"===k.method)return{data:"",error:null};let t=function(t){let e=t.headers.get("content-type"),n=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!e)return"json";let r=e.split(";").shift()||"";return g.test(r)?"json":n.has(r)||r.startsWith("text/")?"text":"blob"}(I),n={data:"",response:I,request:k};if("json"===t||"text"===t){let t=await I.text(),e=null!=(s=k.jsonParser)?s:w;n.data=await e(t)}else n.data=await I[t]();for(let t of((null==k?void 0:k.output)&&k.output&&!k.disableValidation&&(n.data=await O(k.output,n.data)),v.onSuccess))t&&await t(f(c({},n),{response:(null==(i=null==e?void 0:e.hookOptions)?void 0:i.cloneResponse)?I.clone():I}));return(null==e?void 0:e.throw)?n.data:{data:n.data,error:null}}let N=null!=(l=null==e?void 0:e.jsonParser)?l:w,B=await I.text(),W=function(t){try{return JSON.parse(t),!0}catch(t){return!1}}(B),D=W?await N(B):null,F={response:I,responseText:B,request:k,error:f(c({},D),{status:I.status,statusText:I.statusText})};for(let t of v.onError)t&&await t(f(c({},F),{response:(null==(a=null==e?void 0:e.hookOptions)?void 0:a.cloneResponse)?I.clone():I}));if(null==e?void 0:e.retry){let n=function(t){if("number"==typeof t)return new h({type:"linear",attempts:t,delay:1e3});switch(t.type){case"linear":return new h(t);case"exponential":return new y(t);default:throw Error("Invalid retry strategy")}}(e.retry),r=null!=(u=e.retryAttempt)?u:0;if(await n.shouldAttemptRetry(r,I)){for(let t of v.onRetry)t&&await t(C);let o=n.getDelay(r);return await new Promise(t=>setTimeout(t,o)),await E(t,f(c({},e),{retryAttempt:r+1}))}}if(null==e?void 0:e.throw)throw new p(I.status,I.statusText,W?D:B);return{data:null,error:f(c({},D),{status:I.status,statusText:I.statusText})}},j=n(4972);let P=Object.create(null),U=t=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(t?P:globalThis),_=new Proxy(P,{get:(t,e)=>U()[e]??P[e],has:(t,e)=>e in U()||e in P,set:(t,e,n)=>(U(!0)[e]=n,!0),deleteProperty(t,e){if(!e)return!1;let n=U(!0);return delete n[e],!0},ownKeys:()=>Object.keys(U(!0))});void 0!==j&&j.env;class x extends Error{constructor(t,e){super(t),this.name="BetterAuthError",this.message=t,this.cause=e,this.stack=""}}function A(t,e="/api/auth"){return!function(t){try{let e=new URL(t);return"/"!==e.pathname}catch(e){throw new x(`Invalid base URL: ${t}. Please provide a valid base URL.`)}}(t)?(e=e.startsWith("/")?e:`/${e}`,`${t.replace(/\/+$/,"")}${e}`):t}let $=[],L=0,k=0,q=t=>{let e=[],n={get:()=>(n.lc||n.listen(()=>{})(),n.value),lc:0,listen:t=>(n.lc=e.push(t),()=>{for(let e=L+4;e<$.length;)$[e]===t?$.splice(e,4):e+=4;let r=e.indexOf(t);~r&&(e.splice(r,1),--n.lc||n.off())}),notify(t,r){k++;let o=!$.length;for(let o of e)$.push(o,n.value,t,r);if(o){for(L=0;L<$.length;L+=4)$[L]($[L+1],$[L+2],$[L+3]);$.length=0}},off(){},set(t){let e=n.value;e!==t&&(n.value=t,n.notify(e))},subscribe(t){let e=n.listen(t);return t(n.value),e},value:t};return n},I=(t,e)=>((t,e,n,r)=>(t.events=t.events||{},t.events[15]||(t.events[15]=r(e=>{t.events[n].reduceRight((t,e)=>(e(t),t),{shared:{},...e})})),t.events[n]=t.events[n]||[],t.events[n].push(e),()=>{let r=t.events[n],o=r.indexOf(e);r.splice(o,1),r.length||(delete t.events[n],t.events[n+10](),delete t.events[n+10])}))(t,n=>{let r=e(n);r&&t.events[6].push(r)},5,e=>{let n=t.listen;t.listen=(...r)=>(t.lc||t.active||(t.active=!0,e()),n(...r));let r=t.off;return t.events[6]=[],t.off=()=>{r(),setTimeout(()=>{if(t.active&&!t.lc){for(let e of(t.active=!1,t.events[6]))e();t.events[6]=[]}},1e3)},()=>{t.listen=n,t.off=r}}),C="undefined"==typeof window,N={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},B=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,W={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:1/0,"-infinity":-1/0},D=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/,F={id:"redirect",name:"Redirect",hooks:{onSuccess(t){if(t.data?.url&&t.data?.redirect&&"undefined"!=typeof window&&window.location&&window.location)try{window.location.href=t.data.url}catch{}}}};var H=n(8130);function M(t){var e,n;let{pluginPathMethods:r,pluginsActions:o,pluginsAtoms:s,$fetch:i,$store:l,atomListeners:a}=(t=>{let e,n="credentials"in Request.prototype,r=function(t,e,n){if(t)return A(t,e);let r=_.BETTER_AUTH_URL||_.NEXT_PUBLIC_BETTER_AUTH_URL||_.PUBLIC_BETTER_AUTH_URL||_.NUXT_PUBLIC_BETTER_AUTH_URL||_.NUXT_PUBLIC_AUTH_URL||("/"!==_.BASE_URL?_.BASE_URL:void 0);if(r)return A(r,e);let o=void 0,s=void 0;if(o&&s)return A(`${s}://${o}`,e);if(n){let t=function(t){try{return new URL(t).origin}catch(t){return null}}(n.url);if(!t)throw new x("Could not get origin from request. Please provide a valid base URL.");return A(t,e)}if("undefined"!=typeof window&&window.location)return A(window.location.origin,e)}(t?.baseURL,t?.basePath),o=t?.plugins?.flatMap(t=>t.fetchPlugins).filter(t=>void 0!==t)||[],s={id:"lifecycle-hooks",name:"lifecycle-hooks",hooks:{onSuccess:t?.fetchOptions?.onSuccess,onError:t?.fetchOptions?.onError,onRequest:t?.fetchOptions?.onRequest,onResponse:t?.fetchOptions?.onResponse}},{onSuccess:i,onError:l,onRequest:a,onResponse:u,...p}=t?.fetchOptions||{},d=(e={baseURL:r,...n?{credentials:"include"}:{},method:"GET",jsonParser:t=>t?function(t,e={strict:!0}){return function(t,e={}){let{strict:n=!1,warnings:r=!1,reviver:o,parseDates:s=!0}=e;if("string"!=typeof t)return t;let i=t.trim();if('"'===i[0]&&i.endsWith('"')&&!i.slice(1,-1).includes('"'))return i.slice(1,-1);let l=i.toLowerCase();if(l.length<=9&&l in W)return W[l];if(!B.test(i)){if(n)throw SyntaxError("[better-json] Invalid JSON");return t}if(Object.entries(N).some(([t,e])=>{let n=e.test(i);return n&&r&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${t} pattern`),n})&&n)throw Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(i,(t,e)=>{if("__proto__"===t||"constructor"===t&&e&&"object"==typeof e&&"prototype"in e){r&&console.warn(`[better-json] Dropping "${t}" key to prevent prototype pollution`);return}if(s&&"string"==typeof e){let t=function(t){let e=D.exec(t);if(!e)return null;let[,n,r,o,s,i,l,a,u,c,f]=e,p=new Date(Date.UTC(parseInt(n,10),parseInt(r,10)-1,parseInt(o,10),parseInt(s,10),parseInt(i,10),parseInt(l,10),a?parseInt(a.padEnd(3,"0"),10):0));if(u){let t=(60*parseInt(c,10)+parseInt(f,10))*("+"===u?-1:1);p.setUTCMinutes(p.getUTCMinutes()+t)}return p instanceof Date&&!isNaN(p.getTime())?p:null}(e);if(t)return t}return o?o(t,e):e})}catch(e){if(n)throw e;return t}}(t,e)}(t,{strict:!1}):null,customFetchImpl:fetch,...p,plugins:[s,...p.plugins||[],...t?.disableDefaultFetchPlugins?[]:[F],...o]},async function(t,n){let r,o=f(c(c({},e),n),{plugins:[...(null==e?void 0:e.plugins)||[],(r=e||{},{id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(t,e){var n,o,s,i;let l=(null==(o=null==(n=r.plugins)?void 0:n.find(e=>{var n;return null!=(n=e.schema)&&!!n.config&&(t.startsWith(e.schema.config.baseURL||"")||t.startsWith(e.schema.config.prefix||""))}))?void 0:o.schema)||r.schema;if(l){let n=t;(null==(s=l.config)?void 0:s.prefix)&&n.startsWith(l.config.prefix)&&(n=n.replace(l.config.prefix,""),l.config.baseURL&&(t=t.replace(l.config.prefix,l.config.baseURL))),(null==(i=l.config)?void 0:i.baseURL)&&n.startsWith(l.config.baseURL)&&(n=n.replace(l.config.baseURL,""));let r=l.schema[n];if(r){let n=f(c({},e),{method:r.method,output:r.output});return(null==e?void 0:e.disableValidation)||(n=f(c({},n),{body:r.input?await O(r.input,null==e?void 0:e.body):null==e?void 0:e.body,params:r.params?await O(r.params,null==e?void 0:e.params):null==e?void 0:e.params,query:r.query?await O(r.query,null==e?void 0:e.query):null==e?void 0:e.query})),{url:t,options:n}}}return{url:t,options:e}}})]});if(null==e?void 0:e.catchAllError)try{return await E(t,o)}catch(t){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:t}}}return await E(t,o)}),{$sessionSignal:h,session:y}=function(t){let e=q(!1);return{session:((t,e,n,r)=>{let o=q({data:null,error:null,isPending:!0,isRefetching:!1,refetch:t=>s(t)}),s=t=>{let s="function"==typeof r?r({data:o.get().data,error:o.get().error,isPending:o.get().isPending}):r;n(e,{...s,query:{...s?.query,...t?.query},async onSuccess(t){o.set({data:t.data,error:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch}),await s?.onSuccess?.(t)},async onError(t){let{request:e}=t,n="number"==typeof e.retry?e.retry:e.retry?.attempts,r=e.retryAttempt||0;n&&r<n||(o.set({error:t.error,data:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch}),await s?.onError?.(t))},async onRequest(t){let e=o.get();o.set({isPending:null===e.data,data:e.data,error:null,isRefetching:!0,refetch:o.value.refetch}),await s?.onRequest?.(t)}}).catch(t=>{o.set({error:t,data:null,isPending:!1,isRefetching:!1,refetch:o.value.refetch})})};t=Array.isArray(t)?t:[t];let i=!1;for(let e of t)e.subscribe(()=>{C||(i?s():I(o,()=>(setTimeout(()=>{s()},0),i=!0,()=>{o.off(),e.off()})))});return o})(e,"/get-session",t,{method:"GET"}),$sessionSignal:e}}(d),v=t?.plugins||[],g={},m={$sessionSignal:h,session:y},w={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"},b=[{signal:"$sessionSignal",matcher:t=>"/sign-out"===t||"/update-user"===t||t.startsWith("/sign-in")||t.startsWith("/sign-up")||"/delete-user"===t||"/verify-email"===t}];for(let t of v)t.getAtoms&&Object.assign(m,t.getAtoms?.(d)),t.pathMethods&&Object.assign(w,t.pathMethods),t.atomListeners&&b.push(...t.atomListeners);let R={notify:t=>{m[t].set(!m[t].get())},listen:(t,e)=>{m[t].subscribe(e)},atoms:m};for(let e of v)e.getActions&&Object.assign(g,e.getActions?.(d,R,t));return{pluginsActions:g,pluginsAtoms:m,pluginPathMethods:w,atomListeners:b,$fetch:d,$store:R}})(t),u={};for(let[t,e]of Object.entries(s)){u[`use${(n=t).charAt(0).toUpperCase()+n.slice(1)}`]=()=>(function(t,e={}){let n=(0,H.useRef)(t.get()),{keys:r,deps:o=[t,r]}=e,s=(0,H.useCallback)(e=>{let o=t=>{n.current!==t&&(n.current=t,e())};if(o(t.value),r?.length){let e;return e=new Set(r).add(void 0),t.listen((t,n,r)=>{e.has(r)&&o(t,n,r)})}return t.listen(o)},o),i=()=>n.current;return(0,H.useSyncExternalStore)(s,i,i)})(e)}return e={...o,...u,$fetch:i,$store:l},function t(n=[]){return new Proxy(function(){},{get(r,o){var s;if("then"===o||"catch"===o||"finally"===o)return;let i=[...n,o],l=e;for(let t of i)if(l&&"object"==typeof l&&t in l)l=l[t];else{l=void 0;break}return"function"==typeof l?l:"object"==typeof(s=l)&&null!==s&&"get"in s&&"function"==typeof s.get&&"lc"in s&&"number"==typeof s.lc?l:t(i)},apply:async(t,e,o)=>{let l="/"+n.map(t=>t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)).join("/"),u=o[0]||{},c=o[1]||{},{query:f,fetchOptions:p,...d}=u,h={...c,...p},y=function(t,e,n){let r=e[t],{fetchOptions:o,query:s,...i}=n||{};return r||(o?.method?o.method:i&&Object.keys(i).length>0?"POST":"GET")}(l,r,u);return await i(l,{...h,body:"GET"===y?void 0:{...d,...h?.body||{}},query:f||h?.query,method:y,async onSuccess(t){await h?.onSuccess?.(t);let e=a?.find(t=>t.matcher(l));if(!e)return;let n=s[e.signal];if(!n)return;let r=n.get();setTimeout(()=>{n.set(!r)},10)}})}})}()}}}]);